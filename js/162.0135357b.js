"use strict";(self["webpackChunk_zhangqingcq_plug_r_qw"]=self["webpackChunk_zhangqingcq_plug_r_qw"]||[]).push([[162],{82162:function(A,e,t){t.r(e),t.d(e,{default:function(){return d}});var a=function(){var A=this,e=A.$createElement,t=A._self._c||e;return t("div",{staticClass:"exBox"},[t("showReadMe"),t("toHome"),t("div",{staticClass:"tableLK"},[t("bt-table-page",{ref:"btTab",attrs:{columns:A.columns,url:A.url,"search-data":A.searchData,"show-top-row":"",radio:"radio"===A.selectMode,selection:"checkbox"===A.selectMode,draggable:!0},on:{"on-row-click":A.onRowClick,"on-data-change":A.setTotal,"on-drag-drop":A.dragDrop}},[t("template",{slot:"topMsg"},[A._v("共有："+A._s(A.total)+" 条数据。")]),t("template",{slot:"topBtnGroup"},[t("div",{staticClass:"topBoxKAQ"},[t("RadioGroup",{staticStyle:{"margin-right":"20px"},on:{"on-change":A.clearSelect},model:{value:A.selectMode,callback:function(e){A.selectMode=e},expression:"selectMode"}},[t("Radio",{attrs:{label:"radio"}},[A._v("单选")]),t("Radio",{attrs:{label:"checkbox"}},[A._v("多选")])],1),t("Checkbox",{on:{"on-change":A.getData},model:{value:A.nodeServer,callback:function(e){A.nodeServer=e},expression:"nodeServer"}},[A._v("切换为node-serve数据(需开启项目nodeJs服务器)")]),t("Button",{on:{click:A.getS}},[A._v("get select")]),t("Button",{on:{click:A.handleNew}},[A._v("新增")])],1)])],2)],1),t("form-modal",{ref:"formModalRef",attrs:{title:A.title,"form-data":A.formData,"form-rules":A.formRules},on:{"on-submit":A.handleSub}})],1)},i=[],o=t(7638),l=t(36170),s={name:"btTablePageEX",data(){return{action:"new",nodeServer:!1,selectMode:"radio",total:0,searchData:{},btData:[],columns:[{title:"ID",key:"id",width:80},{title:"文件名称",key:"name",minWidth:250,render:(A,e)=>A("span",{class:"linkM",on:{click:()=>{(0,o.Fy)("模拟文件下载",l)}}},e.row.name)},{title:"文件类型",minWidth:250,key:"mimeType"},{title:"文件大小",minWidth:250,key:"size"},{title:"备注",minWidth:250,key:"remark"},{title:"操作",width:240,render:(A,e)=>A("div",[A("Button",{on:{click:()=>{this.nodeServer?(this.action="edit",this.$refs.formModalRef.updateValGroup(e.row),this.$refs.formModalRef.setItemToValGroup({id:e.row.id},!0),this.$refs.formModalRef.open()):this.$swal("提示","仅在node-serve模式下可执行编辑","info")}}},"编辑"),A("Button",{on:{click:()=>{this.messageBox({content:"确定模拟执行删除操作？",onOk:()=>{this.nodeServer?this.$fetch.delete("/node-serve/bt-table-page",{id:e.row.id}).then((A=>{A&&0===A.code?(this.$swal("删除成功","","success"),this.getData()):this.$swal("删除失败","","error")})):this.setTimeout((()=>{this.$swal("成功","假装删除成功","success")}),500)}})}}},"删除")])}],formData:[{type:"txt",val:"正常的文件系统应该是上传文件，我们这里只是演示btTablePage使用方法，手动填写这些字段就行",label:"说明"},{type:"input",key:"name",label:"文件名称"},{type:"inputNumber",key:"size",label:"文件大小",min:0},{type:"input",key:"mimeType",label:"文件类型"},{type:"textarea",key:"remark",label:"备注"}],formRules:{name:{required:!0},size:{required:!0},mimeType:{required:!0}}}},computed:{url(){return this.nodeServer?"/node-serve/bt-table-page":location.pathname+"testData/btTablePage.json"},title(){return"new"===this.action?"新增":"编辑"},method(){return"new"===this.action?"post":"put"}},methods:{dragDrop(A,e){let t=this.$refs.btTab.dataS,a=t.splice(A,1);t.splice(e,0,...a),this.$nextTick((function(){this.$refs.btTab.dataS=t}))},clearSelect(){this.$refs.btTab.clearSelect()},handleNew(){this.nodeServer?(this.action="new",this.$refs.formModalRef.open()):this.$swal("提示","仅在node-serve模式下可执行新增","info")},handleSub(A){A&&this.$fetch[this.method]("/node-serve/bt-table-page",A).then((A=>{A&&0===A.code?(this.$swal(this.title+"成功","","success"),"new"===this.action?this.search():this.$refs.btTab.getDataAndClickRow(!0),this.$refs.formModalRef.close()):this.$swal(this.title+"失败","","error")}))},getData(){this.$nextTick((function(){this.$refs.btTab.getTableData()}))},getS(){console.log(this.$refs.btTab.getSelected()),this.$swal("请在控制台查看已选数据","","success")},search(A){A||(A={}),this.searchData=_.cloneDeep(A)},onRowClick(A,e){console.log("row click--\x3e",A,e)},setTotal(){this.total=this.$refs.btTab.total}}},n=s,r=t(1001),c=(0,r.Z)(n,a,i,!1,null,"ba0e8472",null),d=c.exports},36170:function(A){A.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB4AAAAQ4CAMAAADfDTFxAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTlDMDJDQzhCNTJCMTFFQTg1NUFFQkQ5RTcxN0FBODQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTlDMDJDQzlCNTJCMTFFQTg1NUFFQkQ5RTcxN0FBODQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5OUMwMkNDNkI1MkIxMUVBODU1QUVCRDlFNzE3QUE4NCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5OUMwMkNDN0I1MkIxMUVBODU1QUVCRDlFNzE3QUE4NCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pjjwj48AAAAGUExURUWr+QAAAAZr1boAAAf0SURBVHja7MExAQAAAMKg9U9tCy+gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJgAAwCqCQABMCiOEgAAAABJRU5ErkJggg=="}}]);