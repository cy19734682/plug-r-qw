server {
listen       80;
server_name  localhost;
#转发接口请求
location ~^/node-serve/ {
  proxy_pass   http://172.18.0.2:3006;

  add_header Access-Control-Allow-Origin $http_origin;
  add_header Access-Control-Allow-Methods 'GET,PUT,DELETE, POST, OPTIONS';
  add_header Access-Control-Allow-Credentials "true";
  add_header Access-Control-Allow-Headers 'DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization';

  if ($request_method = 'OPTIONS') {
    return 204;
  }
  index  index.html index.htm;
}
location / {
  root /usr/share/nginx/html;
  index  index.html;
  try_files $uri $uri/ /index.html;
}
error_page   500 502 503 504  /50x.html;
location = /50x.html {
  root   /usr/share/nginx/html;
}
}
